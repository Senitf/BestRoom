{% extends "base_generic.html" %}
{% block content %}
<div class="wrapper position-relative">
    <div class="search-container position-absolute top-50 start-50 translate-middle border border-dark border-4">
        <div class="row justify-content-center mb-2">
            <div class="name col mx-0 px-0 text-end">
            {% if user.is_authenticated %}
                {{ user.first_name }}
            {% else %}
                GUEST
            {% endif %}
            </div>
            <div class="name-text col mx-0 ps-1 pt-2">님의 pick</div>
        </div>

        <div class="row justify-content-center mb-2">
        {% for room in rooms %}
            <div class="col result-container justify-content-center border border-dark border-4">
                <p class="text-center fs-5 fw-bold mb-2 position-relative">{{ forloop.counter }}순위
                    <a href="{% url 'room:scrap' room.id %}"><i class="{% if user.is_authenticated and room in scraps %}fas{% else %}far{% endif %} fa-star position-absolute top-50 end-0 translate-middle-y"></i></a>
                </p>
                <div class="image d-flex align-items-center justify-content-center">
                    {% if room.image == "" %}
                        <img src="../../static/image/loading-img.jpg" alt="loading image">
                    {% else %}
                        <img src={{ room.image }} alt="room image">
                    {% endif %}
                </div>
                <div class="rating d-flex">
                    ★ {{ room.rating }}
                </div>
                <div class="title d-flex">
                    {{ room.title }}
                </div>
                <div class="distance d-flex">
                    <p class="mb-0"><i class="fas fa-map-marker-alt"></i> {{ room.distance }}</p>
                </div>
                <div class="charge d-flex">
                    <p class="mb-0"><i class="fas fa-won-sign"></i> {{ room.charge }}</p>
                </div>
            </div>    
        {% endfor %}
        </div>


        <div class="row">
            <form method="post" action="{% url 'room:roomlist' %}">
                {% csrf_token %}
                <input class="nonvisible" type="text" name="region" id="region" value="{{ result.region }}">
                <div class="justify-content-end">
                    <button class="btn btn-primary" type="submit">more</button>
                </div>
            </form>
        </div>

    </div>
</div>
{% endblock %}